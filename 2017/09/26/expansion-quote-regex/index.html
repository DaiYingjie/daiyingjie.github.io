<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>expansion-quote-regex | </title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
    
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/"></a></h1>
		<h2 class="header__subtitle"></h2>
	</header>

	<main>
		<article>
	
		<h1>expansion-quote-regex</h1>
	
	<div class="article__infos">
		<span class="article__date">2017-09-26</span><br />
		
		
	</div>

	

	
		<h4 id="Expansion"><a href="#Expansion" class="headerlink" title="Expansion:"></a>Expansion:</h4><p>Each time you type a command line and press the enter key, bash performs several processes upon the text before it carries out your command. We have seen a couple of cases of how a simple character sequence, for example “*”, can have a lot of meaning to the shell. The process that makes this happen is called expansion. With expansion, you type something and it is expanded into something else before the shell acts upon it.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> *</span></div><div class="line">Desktop Documents ls-output.txt Music Pictures Public Templates Videos</div></pre></td></tr></table></figure>
<p>More Expansion</p>
<p>pathname expansion: *</p>
<p>tilde character expansion: ~</p>
<p>arithmetic expansion: $((expression))</p>
<p>brace expansion: {a..z}, {1, 2, 3}, {A{1, 2}, B{3, 4}}</p>
<p>parameter expansion: $HOME</p>
<p>command substitution: $(command line), `command line`</p>
<h4 id="Quote"><a href="#Quote" class="headerlink" title="Quote:"></a>Quote:</h4><p>The shell provides a mechanism called quoting to selectively suppress unwanted expansions.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> The total is <span class="variable">$100</span>.00</span></div><div class="line">The total is 00.00</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> The total is \<span class="variable">$100</span>.00</span></div><div class="line">The total is 100.00</div></pre></td></tr></table></figure>
<p>More quote:</p>
<p>double quotes:</p>
<p>The first type of quoting we will look at is double quotes. If you place text inside double quotes, all the special characters used by the shell lose their special meaning and are treated as ordinary characters. The exceptions are $, \ (backslash), and ` (back-quote). This means that word-splitting, pathname expansion, tilde expansion, and brace expansion are suppressed, but parameter expansion, arithmetic expansion, and command substitution are still carried out.</p>
<p>single quotes:</p>
<p>If we need to suppress all expansions, we use single quotes. </p>
<p>escape character:</p>
<p>Sometimes we only want to quote a single character. To do this, we can precede a character with a backslash, which in this context is called the escape character. </p>
<h4 id="Regular-Expression"><a href="#Regular-Expression" class="headerlink" title="Regular Expression:"></a>Regular Expression:</h4><p>Simply put, regular expressions are symbolic notations used to identify patterns in text.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> ls /usr/bin | grep zip</span></div></pre></td></tr></table></figure>
<p>While it may not seem apparent, our grep searches have been using regular expressions all along, albeit very simple ones. The regular expression “bzip” is taken to mean that a match will occur only if the line in the file contains at least four characters and that somewhere in the line the characters “b”, “z”, “i”, and “p” are found in that order, with no other characters in between. The characters in the string “bzip” are all literal characters, in that they match themselves. In addition to literals, regular expressions may also include metacharacters that are used to specify more complex matches. Regular expression metacharacters consist of the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^ $ . [ ] &#123; &#125; - ? * + ( ) | \</div></pre></td></tr></table></figure>
<blockquote>
<p>Note: As we can see, many of the regular expression metacharacters are also characters that have meaning to the shell when expansion is performed. When we pass regular expressions containing metacharacters on the command line, it is vital that they be enclosed in quotes to prevent the shell from attempting to expand them.</p>
</blockquote>
<p><strong>Added on 2017.10.24</strong></p>
<p>In above, it described the basic function of grep command, match the specific pattern. Sometimes, we want to extract the specific pattern. For example, recently I want to extract the frame_id from a string, the string looks like “test_1536x1088_wide_1.yuv”, “test1536_1088_wide2.yuv”,……”test1536_1088_wide56.yuv”….., what I want to do is extract the frame_id substring.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">prompt&gt;</span><span class="bash"> var=test1536x1088_wide56.yuv</span></div><div class="line"></div><div class="line"><span class="meta">prompt&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$var</span> | grep -oE <span class="string">"wide.*"</span> </span></div><div class="line"></div><div class="line"><span class="meta">prompt&gt;</span><span class="bash"> wide_56.yuv</span></div><div class="line"></div><div class="line"><span class="meta">prompt&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$var</span> | grep -oE <span class="string">"wide.*"</span> | grep -oE [0-9]+</span></div><div class="line"></div><div class="line"><span class="meta">prompt&gt;</span><span class="bash"> 56</span></div></pre></td></tr></table></figure>
<p>Notes: -o means output the specific pattern</p>
<p>​             -E means extended regular expression; if you use metacharacters, you should use -E</p>
<p><strong>Remember: Expansion and Regex are different things!!!</strong></p>
<p>More Regular Expression Detail:</p>
<p><a href="https://github.com/HeGaoYuan/notes_of_python_for_everyone/blob/master/using_python_to_access_web_data/week2/regular_expression.ipynb" target="_blank" rel="external">https://github.com/HeGaoYuan/notes_of_python_for_everyone/blob/master/using_python_to_access_web_data/week2/regular_expression.ipynb</a></p>
<p>Reference: </p>
<p><a href="https://billie66.github.io/TLCL/book/chap08.html" target="_blank" rel="external">https://billie66.github.io/TLCL/book/chap08.html</a></p>
<p><a href="https://billie66.github.io/TLCL/book/chap20.html" target="_blank" rel="external">https://billie66.github.io/TLCL/book/chap20.html</a></p>
<p><a href="https://github.com/HeGaoYuan/notes_of_python_for_everyone/blob/master/using_python_to_access_web_data/week2/regular_expression.ipynb" target="_blank" rel="external">https://github.com/HeGaoYuan/notes_of_python_for_everyone/blob/master/using_python_to_access_web_data/week2/regular_expression.ipynb</a></p>

	

	
		<span class="different-posts"><a href="/2017/09/26/expansion-quote-regex/" onclick="window.history.go(-1); return false;">⬅️ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2017 John Doe | Powered by <a href="https://hexo.io/">Hexo</a> | Theme <a href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
